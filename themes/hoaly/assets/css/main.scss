@use "sass:string";

$languages: 'zh-Hans', 'en', 'ja', 'ja-jp', 'vi', 'it', 'de';
$ja-unicode-range: U+4e00-9fbf, U+3040-309f, U+30a0-30ff; // Japanese

@function font-family($lang, $style) {
  @if $lang == 'zh-Hans' {
    @if $style == 'serif' {
      @return 'simsun', 'Times New Roman', Times, serif;
    } @else {
      @return 'simhei', 'Helvetica', sans-serif;
    }
  } @else if str-slice($lang,1,2) == 'ja' {
    @if $style == 'serif' {
      @return '游明朝', 'Times New Roman', Times, serif;
    } @else {
      @return '游ゴシック', 'Helvetica', sans-serif;
    }
  } @else {
    @if $style == 'serif' {
      @return 'Times New Roman', Times, serif;
    } @else {
      @return 'Helvetica', sans-serif;
    }
  }
}


@font-face {
  font-family: '游明朝';
  src: local('游明朝'), url(/fonts/YUMIN.TTF) format('truetype'), url(/fonts/YUMINDB.TTF) format('truetype'), url(/fonts/YUMINL.TTF) format('truetype');
  unicode-range: $ja-unicode-range;
}

@font-face {
  font-family: 'Helvetica';
  src: local('Helvetica'), url(/fonts/Helvetica-Bold.ttf) format('truetype'), url(/fonts/Helvetica-BoldOblique.ttf) format('truetype'), url(/fonts/Helvetica-Oblique.ttf) format('truetype'), url(/fonts/Helvetica.ttf) format('truetype');
}

@font-face {
  font-family: '游ゴシック';
  src:local('游ゴシック'), url(/fonts/YUGOTHB.TTC) format('truetype'), url(/fonts/YUGOTHL.TTC) format('truetype'), url(/fonts/YUGOTHM.TTC) format('truetype'), url(/fonts/YUGOTHR.TTC) format('truetype');
  unicode-range: $ja-unicode-range;
}

@font-face {
  font-family: 'simsun';
  src: local('simsun'), url(/fonts/SIMSUN.TTC) format('truetype'), url(/fonts/SIMSUNB.TTF) format('truetype');
  unicode-range: U+0080-FFFF;
}

@font-face {
  font-family: 'simhei';
  src: local('simhei'), url(/fonts/SIMHEI.TTF) format('truetype');
  unicode-range: U+0080-FFFF;
}

@mixin font($lang, $style) {
  &[lang=#{$lang}], & [lang=#{$lang}], [lang=#{$lang}] &:not([lang]) {
    font-family: font-family($lang, $style)
  }
}

@mixin serif-font {
  @each $language in $languages {
    @include font($language, 'serif');
  }
}

@mixin sans-serif-font {
  @each $language in $languages {
    @include font($language, 'sans-serif');
  }
}

body {
  @include serif-font;
  font-size: 120%;
  background-color: white;
  color: black;
  width: 600px;
  margin: auto;
  
  main {
    padding: 0px 5px 0px 5px;
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th,td {
      padding: 5px 10px 5px 10px;
      vertical-align: auto;
    }
    
    figure {
      margin: 20px 0px 20px 0px;
      figcaption {
        text-align: center;
      }
    }
  }
  footer {
    text-align: center;
  }
}
th {
  @include sans-serif-font;
}

dfn {
  @include sans-serif-font;
  font-weight: bold;
  font-style: normal;
}

h1,h2,h3,h4,h5,h6 {
  @include sans-serif-font;
}

header {
  @include sans-serif-font;
  padding: 10px 0px 0px 0px;
  nav {
    a {
      text-decoration-line: none;
    }
  }
}

i.fab, a i.fas {
  color: black;
}

var {
  font-family: font-family('en', 'serif');
}
